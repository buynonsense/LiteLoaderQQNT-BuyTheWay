<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>BuyTheWay è®¾ç½®</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 15px;
        background-color: var(--vscode-sideBar-background);
        color: var(--vscode-foreground);
      }
      .setting-group {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid var(--vscode-settings-headerBorder);
        border-radius: 5px;
        background-color: var(--vscode-settings-textInputBackground);
      }
      .setting-group h3 {
        margin-top: 0;
        border-bottom: 1px solid var(--vscode-settings-headerBorder);
        padding-bottom: 5px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      input[type="text"],
      input[type="password"],
      input[type="number"],
      textarea {
        width: calc(100% - 12px); /* Adjust for padding */
        padding: 5px;
        margin-bottom: 10px;
        /* Add fallbacks */
        border: 1px solid var(--vscode-input-border, #cccccc); /* Fallback gray border */
        border-radius: 3px;
        background-color: var(
          --vscode-input-background,
          #ffffff
        ); /* Fallback white background */
        color: var(
          --vscode-input-foreground,
          #000000
        ); /* Fallback black text */
      }
      textarea {
        min-height: 60px;
        resize: vertical;
      }
      input[type="checkbox"],
      input[type="radio"] {
        margin-right: 5px;
        /* Add basic styling for visibility */
        appearance: none; /* Remove default styling */
        -webkit-appearance: none;
        width: 13px;
        height: 13px;
        border: 1px solid var(--vscode-input-border, #999999); /* Fallback gray border */
        border-radius: 2px;
        position: relative; /* For positioning the checkmark */
        vertical-align: middle; /* Align with text */
        cursor: pointer;
        background-color: var(
          --vscode-input-background,
          #ffffff
        ); /* Fallback white background */
      }
      input[type="checkbox"]:checked::before {
        content: "âœ”"; /* Simple checkmark */
        position: absolute;
        top: -2px; /* Adjust position */
        left: 1px; /* Adjust position */
        font-size: 12px;
        color: var(
          --vscode-button-background,
          #007acc
        ); /* Use button color or fallback */
      }
      input[type="radio"] {
        border-radius: 50%; /* Make radios round */
      }
      input[type="radio"]:checked::before {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        width: 7px;
        height: 7px;
        background-color: var(--vscode-button-background, #007acc);
        border-radius: 50%;
      }
      .radio-group label,
      .setting-group > label:has(input[type="checkbox"]) {
        cursor: pointer;
      }
      .inline-label {
        display: inline-block;
        margin-left: 5px;
        font-weight: normal;
        vertical-align: middle; /* Align with custom checkbox */
      }
      button {
        padding: 8px 15px;
        border: none;
        border-radius: 3px;
        background-color: var(--vscode-button-background);
        color: var(--vscode-button-foreground);
        cursor: pointer;
        margin-top: 10px;
      }
      button:hover {
        background-color: var(--vscode-button-hoverBackground);
      }
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <h2>BuyTheWay æ’ä»¶è®¾ç½®</h2>

    <!-- æ–°å¢ï¼šå¯¼å…¥å¯¼å‡ºæ‰€æœ‰é…ç½® -->
    <div class="setting-group">
      <h3>é…ç½®ç®¡ç†</h3>
      <setting-list data-direction="row">
        <setting-item>
          <setting-button data-type="primary" id="exportAllSettingsButton"
            >å¯¼å‡ºæ‰€æœ‰é…ç½®</setting-button
          >
        </setting-item>
        <setting-item>
          <setting-button data-type="secondary" id="importAllSettingsButton"
            >å¯¼å…¥æ‰€æœ‰é…ç½®</setting-button
          >
          <input
            type="file"
            id="importAllSettingsInput"
            hidden
            accept=".json"
          />
        </setting-item>
      </setting-list>
    </div>
    <!-- å¯¼å…¥å¯¼å‡ºæ‰€æœ‰é…ç½®ç»“æŸ -->

    <div class="setting-group">
      <h3>æ€»å¼€å…³</h3>
      <label>
        <input type="checkbox" id="pluginEnabled" />
        <span class="inline-label">å¯ç”¨æ’ä»¶</span>
      </label>
    </div>

    <div class="setting-group">
      <h3>é€šç”¨è®¾ç½®</h3>
      <label for="targetProducts">å…³æ³¨çš„å…³é”®è¯ (æ¯è¡Œä¸€ä¸ª):</label>
      <textarea id="targetProducts" rows="3"></textarea>
      <!-- å¯¼å…¥å¯¼å‡ºå…³é”®è¯ -->
      <setting-list data-direction="row">
        <setting-item>
          <setting-button data-type="primary" id="exportTargetProductsButton"
            >å¯¼å‡ºå…³é”®è¯</setting-button
          >
        </setting-item>
        <setting-item>
          <setting-button data-type="secondary" id="importTargetProductsButton"
            >å¯¼å…¥å…³é”®è¯</setting-button
          >
          <input
            type="file"
            id="importTargetProductsInput"
            hidden
            accept=".txt"
          />
        </setting-item>
      </setting-list>

      <label for="monitoredGroups">ç›‘æ§çš„ç¾¤èŠ/ç”¨æˆ· ID (æ¯è¡Œä¸€ä¸ª):</label>
      <textarea id="monitoredGroups" rows="3"></textarea>
      <!-- å¯¼å…¥å¯¼å‡ºç¾¤ID -->
      <setting-list data-direction="row">
        <setting-item>
          <setting-button data-type="primary" id="exportMonitoredGroupsButton"
            >å¯¼å‡ºç¾¤ID</setting-button
          >
        </setting-item>
        <setting-item>
          <setting-button data-type="secondary" id="importMonitoredGroupsButton"
            >å¯¼å…¥ç¾¤ID</setting-button
          >
          <input
            type="file"
            id="importMonitoredGroupsInput"
            hidden
            accept=".txt"
          />
        </setting-item>
      </setting-list>

      <!-- æ–°å¢ï¼šæ¶ˆæ¯æ ¼å¼æ¨¡æ¿é€‰æ‹© -->
      <label for="messageFormatTemplate">æ¶ˆæ¯è¾“å‡ºæ ¼å¼æ¨¡æ¿:</label>
      <select id="messageFormatTemplate">
        <option value="default">é»˜è®¤æ ¼å¼ (æ¥æº/å†…å®¹/æ—¶é—´)</option>
        <option value="emoji">Emoji æ’ç‰ˆ (ğŸ”¢/ğŸ“/â°)</option>
        <option value="brackets">ã€ã€‘ã€ã€ã€Œã€æ’ç‰ˆ</option>
        <option value="symbols">å¸¦ç¬¦å·è£…é¥° (âœ¦/âœ§)</option>
        <option value="markdown_lines">æ¨ªçº¿åˆ†å‰²+æ ‡é¢˜ (Markdown)</option>
        <option value="markdown_bold">Markdown ç²—ä½“</option>
        <option value="markdown_table">Markdown è¡¨æ ¼</option>
      </select>
      <!-- æ¶ˆæ¯æ ¼å¼æ¨¡æ¿é€‰æ‹©ç»“æŸ -->
    </div>

    <div class="setting-group">
      <h3>é‚®ä»¶é€šçŸ¥è®¾ç½®</h3>
      <label> <input type="checkbox" id="emailEnabled" /> å¯ç”¨é‚®ä»¶é€šçŸ¥ </label>

      <div id="emailDetailsSection" style="display: block !important">
        <h4>é‚®ä»¶æœåŠ¡å™¨é…ç½®</h4>
        <label for="emailHost">SMTP æœåŠ¡å™¨åœ°å€:</label>
        <input type="text" id="emailHost" />
        <label for="emailPort">ç«¯å£:</label>
        <input type="number" id="emailPort" placeholder="465" />
        <label>
          <input type="checkbox" id="emailSecure" /> ä½¿ç”¨ SSL/TLS åŠ å¯†
        </label>
        <label for="emailUser">é‚®ç®±è´¦å·:</label>
        <input type="text" id="emailUser" />
        <label for="emailPass">é‚®ç®±å¯†ç /æˆæƒç :</label>
        <input type="password" id="emailPass" />
        <label for="emailTo">æ”¶ä»¶äººé‚®ç®±:</label>
        <input type="text" id="emailTo" />
      </div>
      <!-- å°†æµ‹è¯•é‚®ä»¶æŒ‰é’®ç§»åˆ°è¿™é‡Œ -->
      <setting-button data-type="secondary" id="testEmailButton" style="margin-top: 10px;"
        >æµ‹è¯•å‘é€é‚®ä»¶</setting-button
      >
    </div>

    <!-- æ–°å¢è½¬å‘è®¾ç½®åŒºåŸŸ -->
    <div class="setting-group">
      <h3>è½¬å‘è®¾ç½®</h3>

      <!-- è½¬å‘åˆ°QQç”¨æˆ· -->
      <div class="forward-section">
        <label>
          <input type="checkbox" id="forwardToUsersEnabled" /> å¯ç”¨è½¬å‘åˆ°QQç”¨æˆ·
        </label>

        <div id="forwardToUsersSection" class="hidden">
          <label for="forwardToUsers">è¦è½¬å‘åˆ°çš„QQå· (æ¯è¡Œä¸€ä¸ª):</label>
          <textarea
            id="forwardToUsers"
            rows="3"
            placeholder="è¯·è¾“å…¥QQå·ï¼Œæ¯è¡Œä¸€ä¸ª"
          ></textarea>

          <setting-list data-direction="row">
            <setting-item>
              <setting-button
                data-type="primary"
                id="exportForwardToUsersButton"
                >å¯¼å‡ºQQåˆ—è¡¨</setting-button
              >
            </setting-item>
            <setting-item>
              <setting-button
                data-type="secondary"
                id="importForwardToUsersButton"
                >å¯¼å…¥QQåˆ—è¡¨</setting-button
              >
              <input
                type="file"
                id="importForwardToUsersInput"
                hidden
                accept=".txt"
              />
            </setting-item>
          </setting-list>
        </div>
      </div>

      <!-- è½¬å‘åˆ°QQç¾¤ -->
      <div class="forward-section" style="margin-top: 15px">
        <label>
          <input type="checkbox" id="forwardToGroupsEnabled" /> å¯ç”¨è½¬å‘åˆ°QQç¾¤
        </label>

        <div id="forwardToGroupsSection" class="hidden">
          <label for="forwardToGroups">è¦è½¬å‘åˆ°çš„ç¾¤å· (æ¯è¡Œä¸€ä¸ª):</label>
          <textarea
            id="forwardToGroups"
            rows="3"
            placeholder="è¯·è¾“å…¥ç¾¤å·ï¼Œæ¯è¡Œä¸€ä¸ª"
          ></textarea>

          <setting-list data-direction="row">
            <setting-item>
              <setting-button
                data-type="primary"
                id="exportForwardToGroupsButton"
                >å¯¼å‡ºç¾¤åˆ—è¡¨</setting-button
              >
            </setting-item>
            <setting-item>
              <setting-button
                data-type="secondary"
                id="importForwardToGroupsButton"
                >å¯¼å…¥ç¾¤åˆ—è¡¨</setting-button
              >
              <input
                type="file"
                id="importForwardToGroupsInput"
                hidden
                accept=".txt"
              />
            </setting-item>
          </setting-list>
        </div>
      </div>
    </div>
  </body>
</html>
